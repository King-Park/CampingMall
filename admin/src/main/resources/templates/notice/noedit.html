<script>
	$(document).ready(function () {
		$('.text_box textarea').keyup(function () {
			var content = $(this).val();
			$('.text_box .count span').html(content.length);
			if (content.length > 500) {
				alert("최대 500자까지 입력 가능합니다.");
				$(this).val(content.substring(0, 500));
				$('.text_box .count span').html(500);
			}
		});
		$('#upBtn').click(function () {
			var c = confirm('수정하시겠습니까?');
			if (c == true) {
				$('#up_form').attr({
					'enctype': 'multipart/form-data',
					'method': 'post',
					'action': '[[@{/notice/noticeupdate}]]'
				});
				$('#up_form').submit();
			};
		});
		$('#delBtn').click(function () {
			var c = confirm('삭제하시겠습니까?');
			if (c == true) {
				$('#up_form').attr({
					'method': 'post',
					'action': '[[@{/notice/nodel}]]'
				});
				$('#up_form').submit();
			};
		});
	}); 
</script>

<main id="main" class="main">
	<div class="row row-zone" style="margin: auto;">
		<div class="pagetitle">
			<h1>공지 수정</h1>
			<nav>
				<ol class="breadcrumb">
					<li class="breadcrumb-item"><a th:href="@{/main}">Home</a></li>
					<li class="breadcrumb-item"><a th:href="@{/notice}">Notice</a></li>
					<li class="breadcrumb-item active">Edit</li>
				</ol>
			</nav>
		</div>
	</div>
	<section class="section">
		<div class="row">
			<div class="row row-zone" style="margin: auto;">
				<div class="col-lg-12">
					<div class="card">
						<div class="card-body noeditcard">
							<form id="up_form">
								<table class="viewtable-fill">
									<thead>
										<tr>
											<th colspan="7" class="text-left viewno Mtablehidden" id="viewno">&nbsp;글번호
											</th>
										</tr>
										<tr>
											<th class="text-left viewno tablehidden" id="viewno">&nbsp;글번호</th>
											<th class="text-left viewcode" id="viewno">
												<input id="inputnone" readonly="readonly" name="notice_code"
													th:value="${notice.notice_code}">
											</th>
											<th colspan="5"></th>
										</tr>
										<tr>
											<th colspan="7" class="text-left Mtablehidden" id="viewth">&nbsp;제목</th>
										</tr>
										<tr>
											<th class="text-left tablehidden" id="viewth">&nbsp;제목</th>
											<th class="text-left" id="viewth">
												<input id="updateth" type="text" name="notice_title"
													th:value="${notice.notice_title}">
											</th>
											<th class="text-left" id="viewth"></th>
											<th class="text-right tablehidden" id="editad">&nbsp;/ 작성자:&nbsp;</th>
											<th class="text-right tablehidden">
												<input id="inputnone" readonly="readonly" type="text"
													th:value="${notice.admin_code}">
											</th>
											<th class="text-right tablehidden" id="editdate">&nbsp;/ 등록일:&nbsp;</th>
											<th class="text-right tablehidden">
												<input id="inputnone" type="text" readonly="readonly"
													th:value="${#dates.format(notice.notice_writedate, 'yyyy-MM-dd')}">
											</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<th id="viewlast" colspan="7">
											</th>
										</tr>
										<tr>
											<th id="viewhr" colspan="7">
											</th>
										</tr>
										<tr>
											<th id="viewlast" colspan="7">
											</th>
										</tr>
										<tr>
											<th colspan="7" class="text-left Mtablehidden">&nbsp;내용</th>
										</tr>
										<tr>
											<th class="text-left tablehidden" colspan="1">
												&nbsp;내용
											</th>
											<td colspan="7">
												<div class="text_box">
													<textarea id="updatecontent" name="notice_content"
														th:text="${notice.notice_content}"></textarea>
													<div class="count"><span>0</span>/500</div>
												</div>
											</td>
										</tr>
										<tr>
											<th colspan="7" class="text-left Mtablehidden">&nbsp;주요공지
												<br>
												<span> * 1: ON / 0: OFF </span>
											</th>
										</tr>
										<tr>
											<th colspan="1" class="text-left tablehidden">
												&nbsp;주요공지
											</th>
											<td colspan="4">
												<input type="number" min='0' max='1' name="notice_level"
													th:value="${notice.notice_level}">
												<span class="tablehidden"> * 1: ON / 0: OFF </span>
											</td>
											<th colspan="2">
											</th>
										</tr>
										<tr>
											<th id="viewlast" colspan="7">
											</th>
										</tr>
									</tbody>
								</table>
							</form>
							<br class="Mtablehidden">
							<div class="Btn">
								<a id="upBtn" class="btn btn-primary" th:href="@{#}">수정</a>
								<a id="delBtn" class="btn btn-primary" th:href="@{#}">삭제</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
</main>